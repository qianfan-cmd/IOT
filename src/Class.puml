@startuml
title 查看订单活动图（匹配UC024/UC030/UC034）
start
:用户进入“我的订单”页面（UC024）;
:系统加载所有订单（按时间倒序）;
:展示订单列表（订单号/时间/状态/总金额，UC024）;
:用户选择订单类型;
if (订单类型?) then (未付款)
    :展示未付款订单（UC031）;
    if (操作选择?) then (立即付款)
        :跳转至支付页面（UC047）;
    else (取消订单)
        :确认取消订单（UC054）;
        :订单状态更新为“已取消”;
    endif
else if (未完成)
    :展示未完成订单（已支付/已发货，UC030）;
    if (操作选择?) then (查看物流)
        :加载物流信息并展示（UC032）;
    else (申请退款)
        :提交退款申请（UC034）;
        :订单状态更新为“退款中”;
    endif
else (已完成)
    :展示已完成订单（UC024）;
    if (操作选择?) then (申请售后)
        :提交售后申请（退货/退款，UC025）;
    else (评价图书)
        :填写评分+评论（UC027）;
        :保存评论并更新图书评分;
    endif
endif
stop

@enduml